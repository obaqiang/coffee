---
theme: smartblue
---
当我们谈论函数式编程时，我们指的是一种范式或方法论，它强调在程序中使用纯函数的概念。在函数式编程中，函数被看作是数学中的函数，即给定一个输入值，总会返回一个相应的输出值，而不会对外部状态造成任何影响。
函数式编程的核心理念包括以下几点：

1. 纯函数：纯函数是指没有副作用并且只依赖于其输入的函数。这种函数对于相同的输入始终返回相同的输出，而且不会改变任何外部状态。

2. 不可变性：不可变性意味着数据一旦创建就不能再被修改。在函数式编程中，我们通常创建新的数据结构来代替修改已有的数据。

3. 函数组合：函数组合是将多个函数按照一定顺序组合起来运行的过程。通过将函数组合起来，我们可以轻松地实现复杂的功能。

4. 递归：递归是函数式编程的重要特征之一，在函数式编程中，我们经常使用递归来处理列表和其他数据结构。

需要注意的是，函数式编程并不是说所有的代码都必须是无副作用、纯函数的形式。而是尽可能采用纯函数式的思想，将副作用封装在函数中，让代码更加可读、可维护、可测试和可并发。

## 纯函数
纯函数不会修改任何外部状态，也不会依赖于外部状态。例如，下面这个函数就是一个纯函数：
``` js
function add(a, b) {
  return a + b;
}

```
这个函数只接受两个参数，并返回它们的和。这个函数总是返回相同的结果，因为它没有任何副作用（比如改变全局变量）。
## 不可变性
函数式编程中经常使用不可变数据结构，比如不可变的列表。这意味着一旦创建了一个列表，就无法对其进行修改。如果你需要在现有列表的基础上添加一个元素，你将创建一个新的列表，而不是修改原始列表。例如：
``` js
const list1 = [1, 2, 3];
const list2 = [...list1, 4]; // 创建一个新列表

```
这里使用了扩展语法 ... 来复制 list1 中的所有元素，再添加一个新的元素 4。这样可以避免修改原始列表，从而实现不可变性。
## 函数组合
在函数式编程中，我们可以将多个函数组合在一起来实现复杂的功能。例如，假设有以下两个函数：
``` js
function add(a, b) {
  return a + b;
}

function double(x) {
  return x * 2;
}

```
我们可以将它们组合在一起来实现一个新的函数：
``` js
const addAndDouble = (a, b) => double(add(a, b));

```
## 递归
递归是函数式编程中的一个重要特征。例如，假设我们想要计算一个列表的所有元素之和。我们可以使用递归来实现这个功能：
``` js
function sum(list) {
  if (list.length === 0) {
    return 0;
  }
  return list[0] + sum(list.slice(1));
}

const result = sum([1, 2, 3, 4, 5]);
console.log(result); // 输出 15

```
这个函数首先检查列表是否为空，如果为空则返回 0。否则，它返回列表的第一个元素加上剩余元素的总和。这个函数使用递归来处理列表中的每个元素，实现了对列表求和的功能。

# 为什么出现，解决了什么问题
函数式编程是一种程序设计范式，它强调将计算视为数学函数的求值过程。函数式编程出现的主要原因是为了解决传统命令式编程所带来的问题，例如程序难以理解、测试困难、容易出错、难以并行处理等。

函数式编程解决了诸如副作用、可变状态和共享状态等问题。在函数式编程中，函数不会改变任何外部状态，也不会依赖于任何外部状态。这使得函数式编程更容易推断和测试代码，因为一个函数的输出只取决于其输入，而不会受到外部环境的影响。

此外，函数式编程还提供了一些其他的优势，例如更好的并行处理能力、更容易实现高阶函数和模块化代码等。函数式编程还可以促进代码的可读性和可维护性，因为它强制遵循更加明确的规则和约定。

总之，函数式编程是一种强大的编程范式，它可以帮助开发者解决许多常见的编程难题，并且可以提高代码的可读性、可维护性和复用性。
# 和其他编程范式相比，有什么优点和缺点
优点：

1. 更好的代码可读性：函数式编程强调纯函数、不可变数据结构和无副作用，这使得代码更加易于理解和维护。
2. 更容易实现并行处理：因为函数式编程中的函数没有任何副作用，所以它们非常适合在并行环境中运行，可以提高程序的执行效率。
3. 更好的代码复用性：函数式编程中的函数是独立的，它们可以轻松地被组合和重用来创建新的函数和模块。
4. 更容易进行推理和测试：因为函数式编程中的函数只依赖于其输入，所以它们更容易被验证和测试。此外，由于函数式编程中的函数没有副作用，所以每个函数都可以看作是一个黑盒子。
缺点：

1. 学习曲线较陡峭：对于那些从命令式编程转向函数式编程的开发者来说，需要花费一些时间来适应新的编程风格和语言。
2. 性能问题：在某些情况下，函数式编程中的一些技术可能会导致性能问题，例如使用惰性求值可能会增加程序的内存消耗。
3. 限制：函数式编程强调使用不可变数据结构和纯函数，这可能会限制一些程序的功能，例如需要频繁修改内部状态的程序。
总体来说，函数式编程是一种非常有用的编程范式，它可以帮助开发者解决许多常见的编程难题，并且可以提高代码的可读性、可维护性和复用性。

# 一些名词
1. 什么是不可变数据  
在JavaScript中，对象（Object）和数组（Array）都是可变的数据结构，但可以通过一些技巧来实现不可变性。

例如，我们可以使用Object.assign()方法来创建一个新对象，其中包含原始对象的所有属性，如下所示：
``` js
const original = {name: "Alice", age: 27};
const updated = Object.assign({}, original, {age: 28});

console.log(original); // 输出 {name: "Alice", age: 27}
console.log(updated); // 输出 {name: "Alice", age: 28}

```
在这个例子中，我们首先定义了一个名为“original”的对象，它包含两个属性：“name”和“age”。然后，我们使用Object.assign()方法创建了一个新对象“updated”，其中包含了原始对象“original”的所有属性，并将年龄更新为28。由于我们创建了一个新对象，因此原始对象仍然保持不变，这就实现了不可变性。

类似地，在数组中，我们可以使用slice()方法来创建新数组。例如：
``` js
const original = [1,2,3];
const updated = original.slice().concat([4]);

console.log(original); // 输出 [1,2,3]
console.log(updated); // 输出 [1,2,3,4]

```
2. 什么是副作用  
副作用是指函数或表达式执行时对除返回值以外的外部环境产生的可观察的变化。比如修改全局变量、改变DOM元素等。在函数式编程中，副作用被认为是不良的，因为它会引入难以理解和调试的代码行为。

下面是一个JavaScript的例子：
``` js
let count = 0;

function increment() {
  count++;
}

increment();
console.log(count); // 输出 1

```
这个例子中，increment() 函数有一个副作用，即它会修改 count 变量的值。虽然 increment() 函数的主要目的是将 count 变量增加1，但它也会产生一个副作用，即改变了 count 变量。因此，increment() 函数不是一个纯函数，而是带有副作用的函数。
